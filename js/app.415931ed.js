(function(e){function t(t){for(var i,o,s=t[0],l=t[1],c=t[2],u=0,h=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(h.length)h.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(i=!1)}i&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},a={app:0},r=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/flight-speed/";var s=this["webpackJsonp"]=this["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"32fe":function(e,t,n){e.exports=n.p+"img/Smaug.3e650e9d.png"},"46ef":function(e,t,n){e.exports=n.p+"img/Autumn-Darter-Dragonfly.e7d9e7b8.png"},5546:function(e,t,n){e.exports=n.p+"img/ML 12 - Ground.1a831728.jpg"},"569d":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("7f7f"),n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"sky"}),n("router-view")],1)},r=[],o={name:"App",data:function(){return{}},created:function(){}},s=o,l=(n("857c"),n("2877")),c=Object(l["a"])(s,a,r,!1,null,"1e1f95d6",null),d=c.exports,u=n("0284"),h=n.n(u),p=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"},[n("div",{staticClass:"inner scrollbars"},[n("div",{staticClass:"container"},[n("div",{staticClass:"section"},[n("div",{staticClass:"content"},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("router-link",{attrs:{to:{name:"home"}}},[n("b-icon",{attrs:{icon:"chevron-left"}}),n("span",[e._v("Back to the Lab")])],1)],1),n("div",{staticClass:"level-right"},[n("a",{attrs:{href:"https://minutelabs.io",target:"_blank"}},[n("span",[e._v("See more Labs!")]),n("b-icon",{attrs:{icon:"launch",size:"is-small"}})],1)])]),e._m(0),n("h1",{staticClass:"title has-text-centered"},[e._v("Flight Speed")]),e._m(1),n("p",[e._v("This lab shows a comparison of different flying things. They all fly\nat their minimum flight speed, and are scaled by their actual size.\n")]),n("h4",{staticClass:"title"},[e._v("What can this lab do?")]),n("p",[e._v("You can zoom in and out (pinch, or scroll) to see different flying things.\nYou can move your view (drag background, or two finger drag).\nYou can drag the creatures up and down to move their flight paths.\nYou can drag the creatures sideways to launch them!\n")]),n("p",[e._v("When launching the creatures, you need to get them above their minimum\nflight speed, otherwise they fall...\n")]),n("h4",{staticClass:"title"},[e._v("A minimum speed for flight...")]),n("p",[e._v("Anything with wings (or perhaps even without), has a minimum speed\nit needs to maintain to stay airborn. If it goes too slow, it will\nfall out of the sky. This minimum speed depends roughly on two things:\nhow large its wings are, and how heavy it is. The larger its wings\nthe more lift it gets, so the slower it can fly. But the heavier\nit is, the more lift it needs to overcome the force of gravity.\nThe balance between the upward lift of the wings and the downward\nforce of gravity will determine the minimum flight speed.\n")]),n("p",[e._v("A creature could go faster, but the faster it goes, the more air\nresistance it will feel, and the less energy efficient its flying\nwill be.\n")]),n("p",[e._v('Turns out most creatures fly very close to this "ideal" flight speed.\nNot too fast to be inefficient, but not too slow to... well... fall.\n')]),n("h3",{staticClass:"title is-size-4"},[e._v("Credits")]),n("p",[e._v("This project was developed by Jasper Palfree.")]),n("p",[e._v("Artwork and design elements by Sarah Berman.")]),n("p",[e._v("Concept and research by Julián Gómez and Henry Reich.")]),n("p",[e._v("And this wouldn't have been built without the support of the whole\nMinuteEarth team.\n")]),n("h3",{staticClass:"title is-size-4"},[e._v("Thank you, Patreon Supporters! (so much)")]),n("p",[e._v("Geeks like you are the reason I build things.\n")]),e._m(2),n("h3",{staticClass:"title is-size-4"},[e._v("Source Code")]),n("p",[e._v("As always, freely available on\n"),n("a",{attrs:{href:"https://github.com/minutelabsio/"+e.$labConfig.repo,target:"_blank"}},[e._v("github")]),e._v(".\n")]),n("h3",{staticClass:"title is-size-4"},[e._v("Bug Reports")]),n("p",[e._v("If you find a bug, you can post it on\n"),n("a",{attrs:{href:"https://www.patreon.com/minutelabsio",target:"_blank"}},[e._v("patreon")]),e._v(",\n"),n("a",{attrs:{href:"mailto:bugs@minutelabs.io"}},[e._v("email us")]),e._v(",\nor post it on "),n("a",{attrs:{href:"https://github.com/minutelabsio/"+e.$labConfig.repo,target:"_blank"}},[e._v("github")]),e._v(".")])])])])])])},g=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"logo"},[n("figure",{staticClass:"image is-128x128"},[n("img",{staticClass:"is-rounded has-background-white",attrs:{src:"//cdn.minutelabs.io/logos/logo-minutelabs-no-text.png"}})])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("The idea for this lab was cooked up while the Minute Earth team\nwas making the video on\n"),n("a",{attrs:{href:"https://www.youtube.com/watch?v=3n1DC_Q-2Ng",target:"_blank"}},[e._v("The Best Dragon (According to Science)")]),e._v(".\nJulián was ranking different dragons by how realistic they were, in part,\nbased on their flight speed compared to their size.\n")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{attrs:{href:"https://www.patreon.com/bePatron?u=617966",target:"_blank"}},[n("img",{attrs:{src:"https://c5.patreon.com/external/logo/become_a_patron_button@2x.png",width:"217",height:"51"}})])}],m=(n("a582"),{}),v=Object(l["a"])(m,f,g,!1,null,"0d59134a",null),b=v.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("FlightSpeedCanvas")],1)},w=[],x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrap"},[n("div",{staticClass:"top-drawer"},[n("div",{staticClass:"media"},[n("div",{staticClass:"media-content"},[n("router-link",{attrs:{to:{name:"about"}}},[e._v("About this Lab")])],1),e._m(0)])]),e.launchableTargetSpeed?n("div",{staticClass:"speed-o-meter"},[n("span",{staticClass:"current"},[e._v(e._s(e.launchableSpeed.toFixed(2))+" m/s")]),n("span",{staticClass:"target"},[e._v(e._s(e.launchableTargetSpeed.toFixed(2))+" m/s")]),n("div",{staticClass:"bar"},[n("div",{staticClass:"inner"},[n("div",{staticClass:"bg",style:{width:e.speedPercentage+"%",backgroundColor:e.speedColor}})])])]):n("div",{staticClass:"speed-display"},[e._v(e._s(e.selectedCreatureName)+": "+e._s(e.selectedCreatureTargetSpeed.toFixed(2))+" m/s")]),e.notReady?n("div",{staticClass:"ml-spinner"}):e._e(),n("div",{ref:"canvas",staticClass:"canvas"})])},C=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"media-right"},[n("a",{staticClass:"logo image is-32x32",attrs:{href:"https://minutelabs.io"}},[n("img",{attrs:{src:"//cdn.minutelabs.io/logos/logo-minutelabs-no-text-40x40.png"}})])])}],S=(n("8e6e"),n("456d"),n("bd86")),z=(n("ac6a"),n("96cf"),n("3b8d")),_=(n("7872"),n("8449"),n("f684")),P=n.n(_),L=n("27d6"),O=n.n(L),T=n("b047"),k=n.n(T),I=n("0f32"),M=n.n(I),F=n("9380"),E=n.n(F),Y=(n("8615"),n("22b5")),$={};function j(e){requestAnimationFrame(j),Y["a"].update(e);for(var t=0,n=Object.values($);t<n.length;t++){var i=n[t];i.update(e)}}requestAnimationFrame(j);var A={easeInQuad:Y["a"].Easing.Quadratic.In,easeOutQuad:Y["a"].Easing.Quadratic.Out,easeInOutQuad:Y["a"].Easing.Quadratic.InOut,easeInOutSine:Y["a"].Easing.Sinusoidal.InOut};function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return $[e]}function G(e){var t=e.from,n=e.to,i=e.delay,a=e.duration,r=e.step,o=e.easing,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return new Promise((function(e,l){var c=t;try{var d=$[s]=$[s]||new Y["a"].Group;new Y["a"].Tween(c,d).to(n,a).delay(i).easing(A[o]).onUpdate((function(){return r(c)})).onComplete((function(t){e(t)})).start()}catch(u){l(u)}}))}var B=n("3db5"),D=n("22a2"),W=D["Loader"].shared,H={"Autumn-Darter-Dragonfly.png":n("46ef"),"Blue-Jay.png":n("7331"),"Boeing-747-400.png":n("84c6"),"Canada-Goose.png":n("89a8"),"Hungarian-Horntail.png":n("8836"),"Little-Brown-Bat.png":n("57dd"),"Fly.png":n("dbaf"),"Paper-Plane.png":n("faea"),"Pterosaur.png":n("d219"),"Smaug.png":n("32fe"),"Skyrim.png":n("99fd"),"Vermithrax.png":n("8cdd"),"Wandering-Albatross.png":n("f883"),background:n("5546"),clouds:n("9ecd")},R=null;function Q(){return R||(R=new Promise((function(e){Object.keys(H).forEach((function(e){return W.add(e,H[e])})),W.load(e)}))),R}var N=n("e889"),J=n("14cd"),q=n("b2c3"),Z=n("cdbe"),V=n.n(Z);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach((function(t){Object(S["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}D["settings"].PRECISION_FRAGMENT="mediump";var ee={},te=0,ne=1e3;function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return void 0===t?e:n*e+(1-n)*t}function ae(){return new P.a((function(e,t){O.a.load({google:{families:["latin-modern-mono","Source Sans Pro"]},active:function(){e()},inactive:function(){t()}})}))}function re(e){var t=k()((function(){e.$emit("resize")}),100);window.addEventListener("resize",t,{passive:!0}),e.$on("hook:beforeDestroy",(function(){window.removeEventListener("resize",t)}))}function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400,t=2e3/e,n=e/2,i=new D["Graphics"],a=new D["Text"]("0",{fontFamily:"latin-modern-mono",fontSize:18,fill:16777215,align:"center"});function r(e){var t=Object(B["a"])(e,"m"),n=1===Math.floor(10*e)?1:0;return t.format({notation:"fixed",precision:n})}function o(o){o*=t;var s=Math.pow(10,Math.ceil(Math.log10(1/o))),l=o*n;s*l>e&&(s*=.1),i.clear(),i.lineStyle(2,16777215,1),i.moveTo(0,0),i.lineTo(-l*s,0),a.text=r(s),a.position.set(-l*s/2,-20)}return a.resolution=window.devicePixelRatio,a.anchor.set(.5),i.addChild(a),{setScale:o,graphics:i}}var se=function(){var e=1e3,t=document.createElement("canvas");t.height=2,t.width=e;var n=t.getContext("2d"),i=n.createLinearGradient(0,0,e,0);i.addColorStop(0,"rgba(255, 255, 255, 0)"),i.addColorStop(1,"#ffffff"),n.fillStyle=i,n.fillRect(0,0,e,2);var a=D["Texture"].from(t.toDataURL());return function(t){var n=new D["Sprite"](a);return n.scale.set(t/e,1),n.anchor.set(1,.5),n}}();function le(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=ee[e];i?t=new D["Sprite"].from(i,{scale:100}):(i=W.resources[e].texture,t=new D["Sprite"](i));var a=n*ne/t.texture.width;return t.scale.set(a,a),t.anchor.set(.5,.5),t}function ce(e){var t=new D["Graphics"],n=new D["Graphics"],i=30;n.beginFill(16777215,1),n.drawCircle(0,0,i),n.drawPolygon([-12,i-6,0,i+8,12,i-6]),n.endFill(),n.rotation=Math.PI,n.name="bubble";var a=le(e),r=a.scale.x*(2*i-20)/Math.max(a.width,a.height);return a.scale.set(r,r),a.anchor.set(.5,.5),t.addChild(n),t.addChild(a),t}var de={name:"FlightSpeedCanvas",props:{},components:{},data:function(){return{paused:!0,notReady:!0,dimensions:{width:window.innerWidth,height:window.innerHeight},creatureList:V.a,launchableCreature:null,launchableSpeed:0,selectedCreature:{}}},created:function(){var e=this;this.time=0,re(this),this.$on("resize",(function(){e.dimensions={width:window.innerWidth,height:window.innerHeight}}));var t=this.app=new D["Application"]({width:this.dimensions.width,height:this.dimensions.height,antialias:!0,transparent:!1,resolution:1});this.stage=t.stage,this.stage.interactive=!0,t.renderer.autoResize=!0,t.renderer.view.style.position="absolute",t.renderer.view.style.display="block",this.middlePoint=new D["Point"](0,0);var n=new D["Point"](0,0),i=new q["a"]({screenWidth:this.dimensions.width,screenHeight:this.dimensions.height,worldWidth:10,worldHeight:2e6,interaction:t.renderer.plugins.interaction,center:n,passiveWheel:!1});this.viewport=i,i.drag().decelerate().pinch({noDrag:!1,percent:10}).wheel({smooth:20}).clampZoom({minHeight:10,maxHeight:18e5}).clamp({top:-1e6,bottom:1e6,left:0,right:0}),i.ensureVisible(-this.dimensions.width/2,-this.dimensions.height/2,this.dimensions.width,this.dimensions.height),i.sortableChildren=!0,i.zIndex=8,i.on("zoomed",(function(){e.$emit("zoom",e.viewport.scaled)})).on("moved",(function(){e.$emit("zoom",e.viewport.scaled)})).on("pinch-start",(function(){e.stageInteract=!0})).on("pinch-end",(function(){e.stageInteract=!1})).on("drag-start",(function(){e.stageInteract=!0})).on("drag-end",(function(){e.stageInteract=!1})),this.pulsateFilter=new J["a"](12,5,1,13369344,.2),this.pulsateFilter.padding=10,this.shadowFilter=new N["a"]({shadowOnly:!1,rotation:90.1,distance:0,blur:2,quality:5,alpha:.3}),this.$on("zoom",(function(t){e.shadowFilter.distance=500*t})),this.creaturesLayer=new D["Container"],this.creaturesLayer.sortableChildren=!0,this.creaturesLayer.zIndex=8,this.creaturesLayer.filters=[this.shadowFilter],this.viewport.addChild(this.creaturesLayer),this.trackLayer=new D["Container"],this.trackLayer.sortableChildren=!0,this.trackLayer.zIndex=0,this.viewport.addChild(this.trackLayer),this.stage.sortableChildren=!0,this.stage.addChild(this.viewport),this.labelLayer=new D["Container"],this.labelLayer.zIndex=1,this.labelLayer.alpha=.6,this.stage.addChild(this.labelLayer),this.bubbleLayer=new D["Container"],this.bubbleLayer.zIndex=11,this.stage.addChild(this.bubbleLayer),this.entranceOverlay=new D["Sprite"](D["Texture"].WHITE),this.entranceOverlay.width=this.dimensions.width,this.entranceOverlay.height=this.dimensions.height,this.entranceOverlay.zIndex=1e3,this.stage.addChild(this.entranceOverlay),this.launchersLayer=new D["Container"],this.launchersLayer.zIndex=12,this.stage.addChild(this.launchersLayer),this.$watch("dimensions",(function(e){var n=e.width,a=e.height;i.resize(n,a),i.snap(0,0,{time:0}),t.renderer.resize(n,a)})),this.init()},beforeDestroy:function(){X().removeAll(),this.app.destroy(!0,{children:!0})},watch:{},computed:{launchableTargetSpeed:function(){return this.launchableCreature&&this.launchableCreature.speed},speedPercentage:function(){return 100*this.launchableSpeed/this.launchableTargetSpeed},speedColor:function(){var e="rgba(0, 200, 0, 0.9)",t=this.speedPercentage;return t<100&&(e="rgba(200, 200, 0, 0.9)"),t<80&&(e="rgba(200, 0, 0, 0.9)"),e},selectedCreatureTargetSpeed:function(){return+this.selectedCreature.speed},selectedCreatureName:function(){return this.selectedCreature.name}},mounted:function(){this.$refs.canvas.appendChild(this.app.view)},methods:{init:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:return e.next=4,ae();case 4:this.creatures=[],V.a.forEach((function(e){n.createFlyer({resource:e.image,x:n.viewport.left/4,y:e.position.y+1e3,speed:e.speed,scale:e.size,size:e.size,name:e.name,handleScale:.1})})),this.selectedCreature=this.creatures[2],this.initBg(),this.initLengthScale(),t=this.draw.bind(this),this.app.ticker.add(t),P.a.delay(200).then((function(){n.animateEntrance(),n.paused=!1,n.notReady=!1}));case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),animateEntrance:function(){var e=this;return this.zoom(.01),G({from:{opacity:1},to:{opacity:0},delay:0,duration:2e3,easing:"easeInOutQuad",step:function(t){e.entranceOverlay.alpha=t.opacity}}),G({from:{zoom:.01},to:{zoom:.2},delay:1e3,duration:4e3,easing:"easeInOutSine",step:function(t){e.zoom(t.zoom)}})},initLengthScale:function(){var e=30,t=oe(.5*Math.min(810,this.dimensions.width,this.dimensions.height));t.graphics.zIndex=9,t.graphics.position.set(this.dimensions.width-e,this.dimensions.height-e),t.setScale(1),this.$on("zoom",(function(e){t.setScale(e)})),this.$watch("dimensions",(function(n){var i=n.width,a=n.height;t.graphics.position.set(i-e,a-e)})),this.stage.addChild(t.graphics)},makeGuides:function(){var e=2e5,t=new D["Graphics"];return t.lineStyle(2,16729156,1),t.moveTo(0,0),t.lineTo(e,0),t.moveTo(0,0),t.lineTo(0,e),t.alpha=.4,t.zIndex=-1,t},initBg:function(){var e=this.dimensions,t=e.width,n=e.height,i=new D["filters"].BlurFilter(4,4),a=W.resources.background.texture,r=new D["TilingSprite"](a,t,n);r.zIndex=-1,r.alpha=1,r.tilePosition.set(t/2,n/2),r.filters=[i];var o=W.resources.clouds.texture,s=new D["TilingSprite"](o,t,n);s.zIndex=0,s.alpha=.8,s.tilePosition.set(t/2,n/2),this.clouds=s;var l=4e6,c=2e5,d=5e3;function u(e,t){return e*(d+t)/(d+e*t)}this.$on("zoom",(function(e){var t=u(e/2,l),n=u(4*e,c);r.tileScale.set(t,t),s.tileScale.set(n,n),i.blur=Math.max(2,Math.min(5,1/e/5))})),this.$watch("dimensions",(function(e){var t=e.width,n=e.height;r.width=t,r.height=n,r.tilePosition.set(t/2,n/2),s.width=t,s.height=n,s.tilePosition.set(t/2,n/2)})),this.stage.addChild(r),this.stage.addChild(s)},initLaunchers:function(){var e=this,t=new D["Sprite"](D["Texture"].WHITE);t.width=380,t.height=120,t.alpha=.3,this.launchersLayer.addChild(t);var n=V.a.map((function(t){return e.createLaunchable(K({},t,{resource:t.image,scale:.1,x:300,y:60}))})),i=function(e){n.forEach((function(e){return e.visible=!1})),n[e].visible=!0};this.$watch("selectedLaunchable",i),i(this.selectedLaunchable)},initSpeedMeter:function(){var e=new D["Graphics"],t=new D["Text"]("",{fontFamily:"latin-modern-mono",fontSize:18,fill:16777215,align:"center"}),n=new D["Text"]("",{fontFamily:"latin-modern-mono",fontSize:18,fill:16777215,align:"center"});n.position.set(0,-20),e.addChild(t),e.addChild(n),e.position.set(24,this.dimensions.height-40),this.$watch("dimensions",(function(t){var n=t.height;e.position.set(24,n-40)})),this.$watch("launchableSpeed",M()((function(e){n.text=e.toFixed(2)+" m/s"}),50),{immediate:!0}),this.$watch("launchableTargetSpeed",(function(n){e.visible=!!n,n&&(t.text=n.toFixed(2)+" m/s")}),{immediate:!0}),e.zIndex=20,this.stage.addChild(e)},createFlyer:function(e){var t=this,n=this.viewport,i=new D["Graphics"],a=le(e.resource,e.scale);i.position.set(e.x||this.viewport.right+te,0),i.zIndex=Math.floor(1/e.scale),i.addChild(a),this.creaturesLayer.addChild(i);var r=2e7,o=new D["Graphics"];o.interactive=!0,o.lineStyle(2,16777215,1),o.moveTo(0,0),o.lineTo(r,0),o.alpha=.05,o.x=-r/2,o.y=0,o.zIndex=0,o.hitArea=new D["Rectangle"](0,-20,r,40),o.cursor="grab",this.trackLayer.addChild(o);var s=se(500*e.speed);s.name="trail",s.position.x=-a.width/2,i.addChild(s);var l=se(500*e.speed);l.name="trailClone",l.position.set(n.worldWidth,0),i.addChild(l);var c=new D["Text"](e.name,{fontFamily:"latin-modern-mono",fontSize:14,fill:16777215,align:"center"});c.alpha=.9,c.resolution=window.devicePixelRatio,c.anchor.set(.5,1),this.labelLayer.addChild(c),this.$watch("dimensions",(function(){c.position.x=t.dimensions.width/2}));var d=n.right,u=function(e){e=e||n.scaled;var a=1/e;o.scale.set(o.scale.x,a),s.scale.set(s.scale.x,a),l.scale.set(l.scale.x,a),c.position.set(t.dimensions.width/2,n.toScreen(i.position).y),n.right>d&&(l.position.x+=n.right-d),d=n.right};this.$on("zoom",u);var h=ce(e.resource);function p(e){i.position.y=e,o.position.y=e,c.position.y=n.toScreen(i.position).y}function f(e){i.position.x=e,h.position.x=n.toScreen(e,0).x}function g(){i.visible=!0,o.visible=!0,c.visible=!0,h.visible=!0,J()}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e?G({from:{alpha:1},to:{alpha:0},delay:0,duration:e,easing:"easeOutQuad",step:function(e){var t=e.alpha;i.alpha=t,o.alpha=t,c.alpha=t,h.alpha=t}}).then((function(){m(0),i.alpha=1,o.alpha=1,c.alpha=1,h.alpha=1})):(i.visible=!1,o.visible=!1,c.visible=!1,h.visible=!1,P.a.resolve())}h.position.set(100,40),h.zIndex=10,h.buttonMode=!0,h.interactive=!0,this.bubbleLayer.addChild(h);var v=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(n)return m(n).then((function(){return e()}));var a=t.creatures.indexOf(y);a>-1&&t.creatures.splice(a,1),t.bubbleLayer.removeChild(h),t.trackLayer.removeChild(o),t.labelLayer.removeChild(c),t.creaturesLayer.removeChild(i)};function b(e){var t=i,r=this.speed,o=.5*a.width,c=t.position.x,d=te/n.scaled;if(c+=r*e*ne/100,r>0){if(c-o-d>n.right){var u=c;c=n.left-o,u-=c,l.visible=!0,l.position.x=(u+s.position.x)/i.scale.x}c+o+d<n.left&&(c=n.left-o)}f(c)}var y={name:e.name,movingGraphic:i,track:o,speed:e.speed,paused:!1,setXPosition:f,setYPosition:p,moveWrap:b,show:g,hide:m,destroy:v},w=new D["Point"](100,100),x=new D["Graphics"];x.interactive=!0,x.cursor="grab",x.position.copyFrom(w),x.visible=!1;var C=le(e.resource,e.handleScale);C.filters=[this.pulsateFilter],x.addChild(C);var S=new D["Text"](e.name,{fontFamily:"latin-modern-mono",fontSize:14,fill:16777215,align:"center"});S.position.y=C.height/2+12,S.alpha=.9,S.resolution=window.devicePixelRatio,S.anchor.set(.5,0),x.addChild(S);var z,_,L,O=.1,T=0,k=o;k.interactive=!0,k.cursor="grab";var I=function(){x.position.y=n.toScreen(o.position).y,x.visible=!0,t.deadCreature=y,t.launchableCreature=e,y.isDead=!0,y.movingGraphic.scale.set(1,1),s.alpha=1,i.zIndex=Math.floor(1/e.scale),l.visible=!0,l.alpha=1,u(),m()},M=function(){return!t.stageInteract&&(!y.grabbing&&(!!y.isDead||(!t.deadCreature||t.deadCreature===y)))},F=!1,E=function e(){if(window.requestAnimationFrame(e),F){var i=n.toWorld(z),a=performance.now(),r=a-T;L=ie(Math.max((i.x-_.x)/r,0),L,.5),T=a,_=i,t.setLaunchableSpeed(L)}else L=void 0};E();var Y,$,j=function(a){if(M()){if(a){if(a.data.originalEvent.button>0)return;a.stopPropagation(),x.data=a.data,z=x.data.getLocalPosition(x.parent),_=n.toWorld(z),y.setXPosition(_.x),y.setYPosition(_.y)}if(L=void 0,F=!0,clearTimeout(t.flyTimeout),t.launchableCreature=e,t.setLaunchableSpeed(0),i.zIndex=100,k.cursor="grabbing",x.visible=!1,y.paused=!0,y.grabbing=!0,y.isDead=!1,g(),u(),l.visible=!1,t.deadCreature!==y){var r=e.handleScale/e.size;t.animateZoomTo(r,1e3,(function(){if(x.data){var e=n.toWorld(z);y.setXPosition(e.x),y.setYPosition(e.y)}}))}}},A=100,X=function(e){if(y.grabbing){e.stopPropagation(),z=x.data.getLocalPosition(x.parent),z.y=Math.max(A,Math.min(t.dimensions.height-A,z.y));var i=n.toWorld(z);y.setXPosition(i.x),y.setYPosition(i.y)}},B=function(n,i){return t.deadCreature=null,t.flyTimeout=setTimeout((function(){t.launchableCreature=null}),4e3),G({from:{speed:i},to:{speed:e.speed},delay:0,duration:3e3,easing:"easeOutQuad",step:function(e){n.speed=e.speed,t.setLaunchableSpeed(e.speed)}})},W=function(e){t.deadCreature=e,i.zIndex=0,o.visible=!1;var n=s.scale.clone(),a=l.position.x=1e12;return G({from:{speed:L,scale:i.scale.x,alpha:1},to:{speed:0,scale:1e-9,alpha:0},delay:0,duration:3e3,easing:"easeOutQuad",step:function(t){var r=t.scale,o=t.alpha,c=t.speed,d=1/r;e.speed=c,a=l.position.x*i.scale.x,i.scale.set(r,r),s.scale.set(n.x*d,n.y*d),l.scale.set(n.x*d,n.y*d),s.alpha=o,l.alpha=o,l.position.x=a*d}}).then((function(){s.scale.copyFrom(n),l.scale.copyFrom(n),I()}))},H=function(){y.grabbing&&x.data&&(F=!1,x.data=null,k.cursor="grab",y.paused=!1,o.zIndex=0,L<O/t.viewport.scaled?(y.grabbing=!1,I()):L>=e.speed?(y.grabbing=!1,B(y,L)):W(y).then((function(){y.grabbing=!1})),t.$ga.event("flight-speed","throw",e.name))};x.on("pointerdown",j),this.launchersLayer.addChild(x);var R=50,Q=function(){if(!!$===$)return $;if(!Y||!o.data)return!1;var e=n.toScreen(o.data.getLocalPosition(o.parent)),t=Math.abs(e.x-Y.x),i=Math.abs(e.y-Y.y);return!(i+t<R)&&($=t>i,$)};function N(){o.data=null,o.cursor="grab",o.dragging=!1}o.on("pointerover",(function(){t.stageInteract||y.grabbing||(o.alpha=1)})).on("pointerout",(function(){o.alpha=.1})).on("pointerdown",(function(e){t.stageInteract||y.grabbing||e.data.originalEvent.button||(e.stopPropagation(),t.selectedCreature=y,Y=n.toScreen(e.data.getLocalPosition(o.parent)),o.data=e.data,o.cursor="grabbing",o.dragging=!0)})).on("pointermove",(function(e){if(y.grabbing)return X(e);if(t.stageInteract)return N();if(Q())return N(e),j(e);if(o.dragging){var n=o.data.getLocalPosition(o.parent),i=t.viewport.bottom,a=t.viewport.top,r=Math.max(a,Math.min(i,n.y));p(r)}})),this.stage.on("pointerup",(function(e){Y=null,$=null,H(e),N(e)})),y.grab=j,y.move=X,y.fall=W,y.fly=B,y.release=H,y.setDead=I;var J=function(){if(!y.isDead){var e=i.position.y,a=.6*i.height,r=e+a<n.top,o=e-a>n.bottom,s=r||o;s!==h.visible&&(y.paused=!!y.grabbing,h.visible=s,h.getChildByName("bubble").rotation=r?Math.PI:0,h.position.y=r?45:t.dimensions.height-45)}};return this.$on("zoom",J),this.$watch("dimensions",J),h.on("click",(function(){t.zoomToCreature(y)})).on("pointerover",(function(){y.grabbing||(y.paused=!0)})).on("pointerout",(function(){y.grabbing||(y.paused=!1)})),p(e.y),u(n.scaled),J(),this.creatures.push(y),y},createLaunchable:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.viewport,i=new D["Graphics"];i.interactive=!0,i.cursor="grab",i.position.set(t.x,t.y);var a,r,o,s=le(t.resource,t.scale);i.addChild(s);var l,c=0,d=function(s){if(!s.data.originalEvent.button){s.stopPropagation(),i.data=s.data,i.cursor="grabbing",i.dragging=!0,a=e.createFlyer(K({},t,{scale:Math.sqrt(t.size)})),a.paused=!0,a.grabbing=!0,r=i.data.getLocalPosition(i.parent),o=n.toWorld(r);var l=t.scale/Math.sqrt(t.size);e.animateZoomTo(l,200,(function(){if(a.grabbing){var e=n.toWorld(r);a.setXPosition(e.x),a.setYPosition(e.y)}})),E()(e.creatures,{name:t.name}).forEach((function(e){e!==a&&e.destroy(1e3)}))}},u=function(){if(i.dragging){r=i.data.getLocalPosition(i.parent);var t=n.toWorld(r);a.setXPosition(t.x),a.setYPosition(t.y);var s=performance.now(),d=Math.max(s-c,10);l=Math.max((t.x-o.x)/d,0),e.launchableSpeed=l,o=t,c=s}},h=function(e,n){G({from:{speed:n},to:{speed:t.speed},delay:0,duration:3e3,easing:"easeOutQuad",step:function(t){e.speed=t.speed}})},p=function(e){e.movingGraphic.zIndex=0,e.track.visible=!1,e.movingGraphic.getChildByName("trailClone").visible=!1;var t=e.movingGraphic.getChildByName("trail"),n=t.scale.clone();G({from:{speed:l,scale:e.movingGraphic.scale.x,alpha:1},to:{speed:0,scale:1e-9,alpha:0},delay:0,duration:3e3,easing:"easeOutQuad",step:function(i){var a=i.scale,r=i.alpha,o=i.speed,s=1/a;e.speed=o,e.movingGraphic.scale.set(a,a),t.scale.set(n.x*s,n.y*s),t.alpha=r}}).then((function(){t.visible=!1,e.destroy(500)}))},f=function(){i.data=null,i.cursor="grab",i.dragging=!1,a.paused=!1,a.grabbing=!1,l>=t.speed?h(a,l):p(a)};return i.on("pointerdown",d).on("pointermove",u).on("pointerup",f).on("pointerupoutside",f),this.launchersLayer.addChild(i),i},draw:function(e){this.time+=e,this.pulsateFilter.outerStrength=1+Math.sin(this.time/10),this.paused||this.animateFlyers(e)},animateFlyers:function(e){for(var t=0,n=this.creatures.length;t<n;t++){var i=this.creatures[t];i.paused||i.moveWrap(e)}},zoomToCreature:function(e){var t=this.viewport,n=Math.abs(e.movingGraphic.position.y),i=t.screenHeight/(2*n+e.movingGraphic.height);this.animateZoomTo(i),this.animateMoveTo(e.movingGraphic.position.y)},animateZoomTo:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,i=arguments.length>2?arguments[2]:void 0,a=this.viewport;G({from:{zoom:a.scaled},to:{zoom:e},delay:0,duration:n,easing:"easeOutQuad",step:function(e){t.zoom(e.zoom),i&&i()}})},animateMoveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=this.viewport;G({from:{x:n.center.x,y:n.center.y},to:{x:n.center.x,y:e},delay:0,duration:t,easing:"easeOutQuad",step:function(e){n.moveCenter(e.x,e.y)}})},zoom:function(e){this.viewport.setZoom(e),this.$emit("zoom",e)},setLaunchableSpeed:M()((function(e){this.launchableSpeed=e}),50)}},ue=de,he=(n("f650"),Object(l["a"])(ue,x,C,!1,null,"31d873ee",null)),pe=he.exports,fe={name:"Home",components:{FlightSpeedCanvas:pe}},ge=fe,me=Object(l["a"])(ge,y,w,!1,null,"2c8079ff",null),ve=me.exports;i["a"].use(p["a"]);var be=new p["a"]({routes:[{path:"/",name:"home",component:ve},{path:"/about",name:"about",component:b},{path:"/*",redirect:{name:"home"}}]}),ye=(n("28a5"),n("e9a7")),we=n.n(ye),xe=n("2769"),Ce=n.n(xe);function Se(e){return e.split(" ").map((function(e){return we()(e)})).join(" ")}var ze=[{range:[1,1e3],suffix:"",decimals:0},{range:[1e3,1e6],suffix:"k",decimals:1},{range:[1e6,1e9],suffix:"M",decimals:1},{range:[1e9,1/0],suffix:"B",decimals:1}];function _e(e){if(0===e)return"0";var t=Ce()(ze,(function(t){return t.range[0]&&e<t.range[1]}));return(e/t.range[0]).toFixed(t.decimals)+t.suffix}function Pe(e){e=Math.round(e/1e3);var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),i=e-3600*t-60*n,a="";return 0!==t&&(t<10&&(t="0"+t),a=t+":"),n<10&&(n="0"+n),i<10&&(i="0"+i),a+="".concat(n,":").concat(i),a}function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return e.length<t?e:e.substr(0,t-n.length)+n}var Oe={install:function(e){e.filter("capitalize",we.a),e.filter("titleCase",Se),e.filter("filter",E.a),e.filter("shortNumber",_e),e.filter("truncate",Le),e.filter("duration",Pe)}},Te=["mousedown","touchstart"],ke=["mousemove","touchmove"],Ie=["mouseup","touchend"];function Me(e,t,n){for(var i=0,a=t.length;i<a;i++)e.addEventListener(t[i],n,{passive:!1})}function Fe(e,t,n){for(var i=0,a=t.length;i<a;i++)e.removeEventListener(t[i],n)}function Ee(e,t){var n=t.getBoundingClientRect();return e.changedTouches&&(e=e.changedTouches[0]),{clientX:e.clientX,clientY:e.clientY,layerX:e.clientX-n.left,layerY:e.clientY-n.top}}var Ye={inserted:function(e,t){var n;function i(i){i.preventDefault();var a=Ee(i,e);e.lastCoords=e.firstCoords={x:a.clientX,y:a.clientY},t.value({el:e,first:!0,clientX:a.clientX,clientY:a.clientY,offsetX:0,offsetY:0,layerX:a.layerX,layerY:a.layerY,event:i}),n=e}function a(i){if(e===n){var a=Ee(i,e),r=a.clientX-e.firstCoords.x,o=a.clientY-e.firstCoords.y;i.preventDefault(),e.lastCoords=null,t.value({el:e,last:!0,clientX:a.clientX,clientY:a.clientY,offsetX:r,offsetY:o,layerX:a.layerX,layerY:a.layerY,event:i}),n=null}}function r(i){if(e===n&&(i.preventDefault(),e.lastCoords)){var a=Ee(i,e),r=a.clientX-e.lastCoords.x,o=a.clientY-e.lastCoords.y,s=a.clientX-e.firstCoords.x,l=a.clientY-e.firstCoords.y,c=a.clientX,d=a.clientY;t.value({el:e,deltaX:r,deltaY:o,offsetX:s,offsetY:l,clientX:c,clientY:d,layerX:a.layerX,layerY:a.layerY,event:i}),e.lastCoords={x:a.clientX,y:a.clientY}}}document&&(Me(e,Te,i),Me(document.documentElement,Ie,a),Me(document.documentElement,ke,r))},unbind:function(e){Fe(e,Te),Fe(document.documentElement,Ie),Fe(document.documentElement,ke)}},$e={install:function(e){e.directive("drag",Ye)},drag:Ye},je=n("289d"),Ae=(n("5363"),n("fb98"),n("f745")),Xe=!0;i["a"].use(h.a,{id:"UA-46248430-1",router:be,debug:{enabled:!Xe,trace:!1,sendHitTask:Xe},autoTracking:{exception:!0,pageviewTemplate:function(e){return{title:e.name,page:"/".concat(Ae.repo).concat(e.path),location:window.location.href}}}}),i["a"].use(je["a"],{defaultContainerElement:"#app"}),i["a"].use(Oe),i["a"].use($e),i["a"].config.productionTip=!1,i["a"].prototype.$labConfig=Ae,new i["a"]({render:function(e){return e(d)},router:be}).$mount("#app")},"57dd":function(e,t,n){e.exports=n.p+"img/Little-Brown-Bat.0778924f.png"},7331:function(e,t,n){e.exports=n.p+"img/Blue-Jay.f95dcb76.png"},"84c6":function(e,t,n){e.exports=n.p+"img/Boeing-747-400.379bb733.png"},"857c":function(e,t,n){"use strict";var i=n("a43a"),a=n.n(i);a.a},8836:function(e,t,n){e.exports=n.p+"img/Hungarian-Horntail.695ab22a.png"},"89a8":function(e,t,n){e.exports=n.p+"img/Canada-Goose.3f39d2c5.png"},"8cdd":function(e,t,n){e.exports=n.p+"img/Vermithrax.50a7b516.png"},"99fd":function(e,t,n){e.exports=n.p+"img/Skyrim.c169d886.png"},"9ecd":function(e,t,n){e.exports=n.p+"img/ML 12 - Sky.183df57b.png"},a43a:function(e,t,n){},a582:function(e,t,n){"use strict";var i=n("569d"),a=n.n(i);a.a},ae24:function(e,t,n){},cdbe:function(e,t){e.exports=[{"little-brown-bat":null,name:"Little brown bat",image:"Little-Brown-Bat.png",speed:4.33,size:.0875,wingArea:.01,mass:.08,position:{x:0,y:500}},{"blue-jay":null,name:"Blue jay",image:"Blue-Jay.png",speed:9.88,size:.26,wingArea:.024,mass:.89,position:{x:0,y:-150}},{"paper-airplane":null,name:"Paper airplane",image:"Paper-Plane.png",speed:5.38,size:.28,wingArea:.004,mass:.044,position:{x:0,y:-1e3}},{"canada-goose":null,name:"Canada goose",image:"Canada-Goose.png",speed:23.15,size:.7,wingArea:.28,mass:57,position:{x:0,y:-2800}},{"wandering-albatross":null,name:"Wandering albatross",image:"Wandering-Albatross.png",speed:19.22,size:1.21,wingArea:.62,mass:87,position:{x:0,y:-5500}},{"quetzalcoatlus-pterosaur":null,name:"Quetzalcoatlus pterosaur",image:"Pterosaur.png",speed:21.94,size:9.6,wingArea:13.4,mass:2450,position:{x:0,y:-11e3}},{"skyrim-dragon":null,name:"Skyrim Dragon",image:"Skyrim.png",speed:79.58,size:13,wingArea:20,mass:"48,126.37",position:{x:0,y:-23e3}},{"hungarian-horntail":null,name:"Hungarian Horntail",image:"Hungarian-Horntail.png",speed:73.43,size:17,wingArea:31,mass:"63,519.84",position:{x:0,y:-55e3}},{vermithrax:null,name:"Vermithrax Pejorative",image:"Vermithrax.png",speed:81,size:27,wingArea:240,mass:"598,395.65",position:{x:0,y:-105e3}},{"boeing-747":null,name:"Boeing 747-400",image:"Boeing-747-400.png",speed:140.84,size:70.66,wingArea:525,mass:395e4,position:{x:0,y:-17e4}},{smaug:null,name:"Smaug",image:"Smaug.png",speed:131.15,size:130,wingArea:1600,mass:"10,458,345.19",position:{x:0,y:-27e4}}]},d219:function(e,t,n){e.exports=n.p+"img/Pterosaur.b90456d8.png"},dbaf:function(e,t,n){e.exports=n.p+"img/Fly.a00cbc47.png"},f650:function(e,t,n){"use strict";var i=n("ae24"),a=n.n(i);a.a},f745:function(e){e.exports=JSON.parse('{"repo":"flight-speed","title":"Flight Speed","description":"Compare the flight speed of birds, planes, and dragons!"}')},f883:function(e,t,n){e.exports=n.p+"img/Wandering-Albatross.20ebb998.png"},faea:function(e,t,n){e.exports=n.p+"img/Paper-Plane.851fc02b.png"},fb98:function(e,t,n){}});
//# sourceMappingURL=app.415931ed.js.map